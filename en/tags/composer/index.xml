<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Drupal WxT – composer</title><link>https://drupalwxt.github.io/en/tags/composer/</link><description>Recent content in composer on Drupal WxT</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://drupalwxt.github.io/en/tags/composer/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Installation</title><link>https://drupalwxt.github.io/en/docs/general/installation/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://drupalwxt.github.io/en/docs/general/installation/</guid><description>
&lt;div class="alert alert-warning" role="alert">
A reminder that &lt;strong>&lt;a href="https://getcomposer.org/download/">composer&lt;/a>&lt;/strong> is required for the installation and updating of &lt;strong>&lt;a href="https://github.com/drupalwxt/wxt">Drupal WxT&lt;/a>&lt;/strong>.
&lt;/div>
&lt;p>We highly recommend using our &lt;strong>&lt;a href="https://github.com/drupalwxt/wxt-project">Composer Project Template&lt;/a>&lt;/strong> to build and maintain your WxT derived project’s codebase.&lt;/p>
&lt;h2 id="server-requirements">Server Requirements&lt;/h2>
&lt;p>As &lt;strong>&lt;a href="https://github.com/drupalwxt/wxt">Drupal WxT&lt;/a>&lt;/strong> is a Drupal distribution, the official guide for &lt;strong>&lt;a href="https://www.drupal.org/docs/system-requirements">Drupal system requirements&lt;/a>&lt;/strong> will apply.&lt;/p>
&lt;h2 id="installation">Installation&lt;/h2>
&lt;ul>
&lt;li>Composer Download&lt;/li>
&lt;li>Tarball Download&lt;/li>
&lt;li>Site Installation&lt;/li>
&lt;li>Standalone Installation&lt;/li>
&lt;li>Default Content via Migrate&lt;/li>
&lt;/ul>
&lt;h3 id="composer-download">Composer Download&lt;/h3>
&lt;p>Run this command and replace DIRECTORY with the directory of your choice this is where WxT will be installed.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>composer self-update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>composer create-project drupalwxt/site-wxt:9.4.x-dev &amp;lt;site-name&amp;gt; --no-interaction
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: Normally you would pass a stable tag to the above command rather then just pulling from the development branch.&lt;/p>
&lt;/blockquote>
&lt;h3 id="tarball-download">Tarball Download&lt;/h3>
&lt;p>If you don&amp;rsquo;t want to use Composer, you can install WxT the traditional way by downloading a tarball from &lt;strong>&lt;a href="https://github.com/drupalwxt/wxt/releases">WxT&amp;rsquo;s GitHub releases&lt;/a>&lt;/strong> page.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: That the tarball generated by the Drupal.org packager does not include the required Composer dependencies and should not be used without following the specialized instructions.&lt;/p>
&lt;/blockquote>
&lt;h3 id="containers">Containers&lt;/h3>
&lt;p>For the (optional) container based local development workflow please consult our documentation site:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;a href="https://drupalwxt.github.io/en/docs/environment/containers/">Containers&lt;/a>&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h2 id="site-installation">Site Installation&lt;/h2>
&lt;p>a) The Drupal Root is in &lt;code>&amp;lt;site-name&amp;gt;/html&lt;/code>&lt;/p>
&lt;p>b) You can install Drupal WxT through the browser as any other drupal installation or use &lt;code>drush site-install&lt;/code> to install the WxT installation profile:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>drush si wxt &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --sites-subdir&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>default &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --db-url&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>mysql://root:root@db:3306/wxt &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --account-name&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>admin &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --account-pass&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>Drupal@2021 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --site-mail&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>admin@example.com &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --site-name&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Drupal Install Profile (WxT)&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> wxt_extension_configure_form.select_all&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;TRUE&amp;#39;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> install_configure_form.update_status_module&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;array(FALSE,FALSE)&amp;#39;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --yes
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: If you wish to only install the minimum set of dependencies please remove the &lt;code>wxt_extension_configure_form.select_all='TRUE'&lt;/code> flag in its entirety.&lt;/p>
&lt;/blockquote>
&lt;p>c) You can download up-to-date translations using:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>drush locale-check
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>drush locale-update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>d) If you work for the Government of Canada you will want to enable the &lt;code>canada.ca&lt;/code> theme:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>drush config-set wxt_library.settings wxt.theme theme-gcweb -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: You can navigate to the &lt;code>admin/config/wxt/wxt_library&lt;/code> settings page.&lt;/p>
&lt;/blockquote>
&lt;p>e) The Drupal WxT site should now be sucessfully installed and you can loging via the &lt;code>/user&lt;/code> page.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: Please always go to the &lt;code>admin/report/status&lt;/code> page and confirm there are no warnings and / or errors.&lt;/p>
&lt;/blockquote>
&lt;h2 id="standalone-installation">Standalone Installation&lt;/h2>
&lt;p>The standalone install is provided as an additional method for those who do not wish to have the full weight of a distribution and its required dependencies. You will need to add at the minimum the below listed modules and themes (including Bootstrap base theme) as well as the WxT jQuery Framework assets installed into the &lt;code>/libraries&lt;/code> folder with the proper naming scheme.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;a href="https://github.com/drupalwxt/wxt_bootstrap">WxT Bootstrap&lt;/a>&lt;/strong>&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://github.com/drupalwxt/wxt_library">WxT Library&lt;/a>&lt;/strong>&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://github.com/wet-boew/wet-boew">WxT jQuery Framework assets&lt;/a>&lt;/strong>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> We highly recommend that you use the distribution method as limited support is provided for the standalone method.&lt;/p>
&lt;/blockquote>
&lt;h2 id="default-content-via-migrate">Default Content via Migrate&lt;/h2>
&lt;p>The following is an example of how to use the &lt;strong>&lt;a href="https://www.drupal.org/node/2127611">Migrate API&lt;/a>&lt;/strong> module to import common design patterns for Canada.ca aligning to the C&amp;amp;IA specifications:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Set the WxT theme to GCWeb&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>drush config-set wxt_library.settings wxt.theme theme-gcweb -y
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Import design patterns for Canada.ca&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>drush migrate:import --group wxt --tag &lt;span style="color:#4e9a06">&amp;#39;Core&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>drush migrate:import --group gcweb --tag &lt;span style="color:#4e9a06">&amp;#39;Core&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>drush migrate:import --group gcweb --tag &lt;span style="color:#4e9a06">&amp;#39;Menu&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>drush cr
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: There is a corresponding group &lt;code>wxt_translation&lt;/code> and &lt;code>gcweb_translation&lt;/code> for importing the corresponding french content.&lt;/p>
&lt;/blockquote>
&lt;!-- Links Referenced --></description></item><item><title>Docs: Composer</title><link>https://drupalwxt.github.io/en/docs/development/composer/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://drupalwxt.github.io/en/docs/development/composer/</guid><description>
&lt;div class="alert alert-warning" role="alert">
A reminder that &lt;strong>&lt;a href="https://getcomposer.org/download/">composer&lt;/a>&lt;/strong> is required for the installation and updating of &lt;strong>&lt;a href="https://github.com/drupalwxt/wxt">Drupal WxT&lt;/a>&lt;/strong>.
&lt;/div>
&lt;p>We highly recommend using our &lt;strong>&lt;a href="https://github.com/drupalwxt/wxt-project">Composer Project Template&lt;/a>&lt;/strong> to build and maintain your WxT derived project’s codebase.&lt;/p>
&lt;h2 id="getting-started">Getting Started&lt;/h2>
&lt;p>The following command is all you need to get started:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>composer create-project drupalwxt/wxt-project:4.3.4 &amp;lt;site-name&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: For development you may also specify a branch using &lt;code>drupalwxt/wxt-project:4.3.x-dev&lt;/code>.&lt;/p>
&lt;/blockquote>
&lt;p>You can see a working example of a fully generated Composer Project Template over at:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;a href="https://github.com/drupalwxt/site-wxt">Site WxT&lt;/a>&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>Where the following is the command that was used for the initial generation:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>composer create-project drupalwxt/wxt-project:4.3.4 site-wxt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: Remember to keep the &lt;code>composer.json&lt;/code> and &lt;code>composer.lock&lt;/code> files that exist above &lt;code>docroot&lt;/code> in source control as they are controlling your dependencies.&lt;/p>
&lt;/blockquote>
&lt;h2 id="maintenance">Maintenance&lt;/h2>
&lt;p>List of common commands are as follows:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Task&lt;/th>
&lt;th>Composer&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Installing a contrib project (latest version)&lt;/td>
&lt;td>&lt;code>composer require drupal/PROJECT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Installing a contrib project (specific version)&lt;/td>
&lt;td>&lt;code>composer require drupal/PROJECT:1.0.0-beta5&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Updating all projects including Drupal Core&lt;/td>
&lt;td>&lt;code>composer update&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Updating a single contrib project&lt;/td>
&lt;td>&lt;code>composer update drupal/PROJECT_NAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Updating Drupal Core&lt;/td>
&lt;td>&lt;code>composer update drupal/core&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: Composer is a &lt;strong>dependency manager&lt;/strong> and helps us keep track of what code and at what version our application relies on so that it always get installed the right way on every copy of that application.&lt;/p>
&lt;/blockquote>
&lt;h3 id="specifying-a-version">Specifying a version&lt;/h3>
&lt;p>A specific version can be specified from the cli:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>composer require drupal/&amp;lt;modulename&amp;gt;:&amp;lt;version&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>However please note if you specify a branch, such as 1.x you must add &lt;code>-dev&lt;/code> to the end of the version:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>composer require drupal/token:1.x-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="source-control">Source Control&lt;/h3>
&lt;p>Taking a look at the &lt;code>.gitignore&lt;/code> file, you will discover that certain directories, including all those directories containing contributed projects, are excluded from source control which is by design.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: Unlike &lt;strong>&lt;a href="https://www.drush.org/latest/">Drush&lt;/a>&lt;/strong> in a Composer derived project you should &lt;strong>never commit your install dependencies to source control&lt;/strong>.&lt;/p>
&lt;/blockquote>
&lt;p>Composer will create &lt;code>composer.lock&lt;/code> file, which is a list of dependencies that were installed, and in which versions.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: In general you should always &lt;strong>commit your &lt;code>composer.lock&lt;/code> file to source control&lt;/strong> so that others via a quick &lt;code>composer install&lt;/code> can have everything installed along with the correct versions specified in the &lt;code>composer.lock&lt;/code> file.&lt;/p>
&lt;/blockquote>
&lt;h3 id="how-to-update-drupal-core">How to update Drupal Core?&lt;/h3>
&lt;p>Please &lt;strong>don&amp;rsquo;t add &lt;code>drupal/core&lt;/code> to your project&amp;rsquo;s composer.json&lt;/strong> since WxT manages Drupal Core for you along with the series of patches on top of it.&lt;/p>
&lt;p>WxT&amp;rsquo;s minor versions will always correspond to Drupal Core&amp;rsquo;s. For example, &lt;code>drupalwxt/wxt:~4.4.x&lt;/code> will require Drupal Core 9.4.x and &lt;code>drupalwxt/wxt:~4.3.x&lt;/code> required Drupal Core 9.3.x.&lt;/p>
&lt;p>When you need to update Drupal Core as an example from 9.3.x to 9.4.x, all you would do is change your requirement for &lt;code>drupalwxt/wxt&lt;/code> in your &lt;code>composer.json&lt;/code> file:&lt;/p>
&lt;pre tabindex="0">&lt;code>composer require --no-update drupalwxt/wxt:~4.4.0
composer update
&lt;/code>&lt;/pre>&lt;h3 id="compatibility-table">Compatibility table&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;code>drupalwxt/wxt&lt;/code> version&lt;/th>
&lt;th>Drupal Core version&lt;/th>
&lt;th>Drush version&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>~4.4.x&lt;/code>&lt;/td>
&lt;td>9.4.x&lt;/td>
&lt;td>&lt;code>&amp;gt;=9.7&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>~4.3.x&lt;/code>&lt;/td>
&lt;td>9.3.x&lt;/td>
&lt;td>&lt;code>&amp;gt;=9.7&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>~4.2.x&lt;/code>&lt;/td>
&lt;td>9.2.x&lt;/td>
&lt;td>&lt;code>&amp;gt;=9.7&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>~4.1.x&lt;/code>&lt;/td>
&lt;td>9.1.x&lt;/td>
&lt;td>&lt;code>&amp;gt;=9.7&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>~4.0.x&lt;/code>&lt;/td>
&lt;td>8.8.x+&lt;/td>
&lt;td>&lt;code>&amp;gt;=9.7&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;!-- Links Referenced --></description></item></channel></rss>